# Fecha: 15/08/2025 - 03:54 
# Fichero: Z:\DIYTOGETHER\DIYtogether\platformio.ini
# Último cambio: Eliminada la dependencia 'lvgl' de lib_deps para resolver conflictos de redefinición de macros.
# Descripción: Este fichero configura el entorno de PlatformIO. Se ha eliminado la dependencia de `lvgl` de la sección `lib_deps` porque el proyecto ya gestiona LVGL como un componente local de ESP-IDF. Esto evita que PlatformIO descargue una segunda copia de la librería y resuelve los warnings de macros redefinidas (`CONFIG_LV_...`) durante la compilación.

# PlatformIO Project Configuration File
#
# NOTA DE MIGRACIÓN:
# Este fichero está configurado para usar la estructura de directorios de ESP-IDF.
# El código fuente principal está en la carpeta 'main', y los componentes adicionales
# en la carpeta 'components'.

[platformio]
default_envs = esp32-c6-devkitc-1
src_dir = main

[env:esp32-c6-devkitc-1]
# -- Configuración General --
platform = espressif32
board = esp32-c6-devkitc-1
framework = espidf

# -- Opciones de Compilación y Subida (extraídas de sdkconfig y CMakeLists.txt) --
board_build.flash_mode = dio
board_build.flash_freq = 80m
board_build.partitions = partitions.csv

# Esta línea es CRUCIAL. Le dice a PlatformIO que use tu 'sdkconfig' existente,
# manteniendo todas tus configuraciones detalladas (tamaño de stack, etc.).
board_build.sdkconfig_path = sdkconfig

# -- Opciones del Monitor Serie --
monitor_speed = 115200

# -- Dependencias de Librerías y Componentes --
# PlatformIO encuentra automáticamente los componentes locales en la carpeta 'components'.
lib_deps =
    # [CORRECCIÓN] Se elimina esta línea. Tu proyecto ya incluye LVGL como un componente de ESP-IDF,
    # y esta dependencia externa causa conflictos de configuración.

# -- Banderas de Compilación --
# Definiciones personalizadas extraídas de tu CMakeLists.txt raíz.
build_flags = -D LVGL_VERSION_MAJOR=9
