<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIYTogether - Portal de Configuraci√≥n</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; color: white; }
        .header h1 { font-size: 2.8em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; gap: 15px; }
        .header p { font-size: 1.3em; opacity: 0.9; }
        .creature-icon { font-size: 3em; animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        
        .card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); margin-bottom: 20px; transition: transform 0.3s ease; }
        .card:hover { transform: translateY(-5px); }
        .card h3 { color: #5a67d8; font-size: 1.5em; margin-bottom: 5px; display: flex; align-items: center; gap: 12px; }
        .card-subtitle { font-size: 1em; color: #718096; margin-bottom: 25px; }
        
        .tabs { display: flex; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .tab-btn { padding: 12px 24px; font-size: 16px; font-weight: 600; cursor: pointer; border: none; background-color: rgba(255, 255, 255, 0.2); color: white; border-radius: 12px; transition: all 0.3s ease; display: flex; align-items: center; gap: 10px; backdrop-filter: blur(10px); }
        .tab-btn:hover { background-color: rgba(255, 255, 255, 0.35); transform: translateY(-2px); }
        .tab-btn.active { background-color: white; color: #5a67d8; box-shadow: 0 6px 15px rgba(0,0,0,0.2); transform: translateY(-3px); }
        
        .content-panel { display: none; }
        .content-panel.active { display: block; }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #4a5568; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 15px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 16px; transition: border-color 0.3s ease; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #5a67d8; box-shadow: 0 0 0 3px rgba(90, 103, 216, 0.1); }
        
        .btn { border: none; padding: 12px 24px; border-radius: 25px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: inline-flex; align-items: center; justify-content: center; gap: 10px; text-decoration: none; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-secondary { background: linear-gradient(135deg, #4fd1c7 0%, #06b6d4 100%); color: white; }
        .btn-success { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .btn-warning { background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%); color: white; }
        .btn-danger { background: linear-gradient(135deg, #fc8181 0%, #f56565 100%); color: white; }
        .btn-small { padding: 8px 16px; font-size: 14px; }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        
        .grid { display: grid; gap: 20px; }
        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        
        .slider-container { margin: 15px 0; }
        .slider { width: 100%; height: 8px; border-radius: 5px; background: #e2e8f0; outline: none; -webkit-appearance: none; }
        .slider::-webkit-slider-thumb { appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #5a67d8; cursor: pointer; }
        .slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #5a67d8; cursor: pointer; border: none; }
        .slider-value { font-weight: 600; color: #5a67d8; }
        
        .status-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f2f5; }
        .status-item:last-child { border-bottom: none; }
        .status-value { font-weight: 600; color: #5a67d8; }
        
        .progress-bar { width: 100%; height: 12px; background: #e2e8f0; border-radius: 6px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; border-radius: 6px; transition: width 0.3s ease; }
        .progress-battery { background: linear-gradient(90deg, #48bb78, #38a169); }
        .progress-storage { background: linear-gradient(90deg, #4fd1c7, #06b6d4); }
        
        .file-list { min-height: 300px; max-height: 500px; overflow-y: auto; border: 2px dashed #e2e8f0; border-radius: 15px; padding: 15px; }
        .file-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f2f5; }
        
        .skin-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
        .skin-card { border: 3px solid #e2e8f0; border-radius: 15px; padding: 15px; text-align: center; transition: all 0.3s ease; cursor: pointer; }
        .skin-card.active { border-color: #5a67d8; background: rgba(90, 103, 216, 0.05); }
        .skin-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .skin-preview { width: 80px; height: 80px; background: linear-gradient(45deg, #f7fafc, #edf2f7); border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 2.5em; }
        
        .notification { padding: 15px; border-radius: 10px; margin: 15px 0; display: none; }
        .notification.show { display: block; animation: slideIn 0.3s ease; }
        .notification.success { background: #f0fff4; border: 1px solid #9ae6b4; color: #276749; }
        .notification.error { background: #fed7d7; border: 1px solid #feb2b2; color: #742a2a; }
        .notification.warning { background: #fefcbf; border: 1px solid #faf089; color: #744210; }
        
        @keyframes slideIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        
        .log-container { background: #1a202c; color: #e2e8f0; font-family: 'Courier New', monospace; font-size: 14px; height: 300px; overflow-y: auto; padding: 15px; border-radius: 10px; white-space: pre-wrap; }
        
        .hidden { display: none !important; }
        
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .header h1 { font-size: 2.2em; }
            .card { padding: 20px; }
            .tabs { justify-content: center; }
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span class="creature-icon">üêæ</span>
                DIYTogether Control Center
            </h1>
            <p>Centro de control completo para tu mascota digital</p>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-target="#network-panel">üì∂ Red</button>
            <button class="tab-btn" data-target="#creature-panel">üêæ Criatura</button>
            <button class="tab-btn" data-target="#system-panel">‚öôÔ∏è Sistema</button>
            <button class="tab-btn" data-target="#files-panel">üìÅ Archivos</button>
            <button class="tab-btn" data-target="#maintenance-panel">üõ†Ô∏è Mantenimiento</button>
            <button class="tab-btn" data-target="#info-panel">üìä Estado</button>
        </div>

        <div class="tab-content">
            <!-- Panel de Red -->
            <div id="network-panel" class="content-panel active">
                <div class="grid grid-2">
                    <div class="card">
                        <h3>üì∂ Configuraci√≥n WiFi</h3>
                        <p class="card-subtitle">Conecta tu DIYTogether a la red local</p>
                        
                        <button class="btn btn-secondary" id="scan-networks" style="margin-bottom: 15px;">
                            üîç Escanear Redes
                        </button>
                        
                        <form id="wifi-form">
                            <div class="form-group">
                                <label for="ssid">SSID (Nombre de red)</label>
                                <input type="text" id="ssid" name="ssid" required>
                            </div>
                            <div class="form-group">
                                <label for="password">Contrase√±a</label>
                                <input type="password" id="password" name="password">
                            </div>
                            <div class="form-group">
                                <label for="authmode">Modo de Seguridad</label>
                                <select id="authmode" name="authmode">
                                    <option value="0">Autom√°tico</option>
                                    <option value="1" selected>Forzar WPA2</option>
                                    <option value="2">Forzar WPA3</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">üíæ Guardar y Conectar</button>
                        </form>
                        
                        <div id="wifi-notification" class="notification"></div>
                    </div>
                    
                    <div class="card">
                        <h3>üåê Configuraci√≥n Avanzada</h3>
                        <p class="card-subtitle">Configuraci√≥n de red avanzada</p>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="dhcp-toggle" checked> 
                                Usar DHCP (autom√°tico)
                            </label>
                        </div>
                        
                        <div id="static-ip-config" class="hidden">
                            <div class="form-group">
                                <label for="ip">Direcci√≥n IP</label>
                                <input type="text" id="ip" placeholder="192.168.1.100">
                            </div>
                            <div class="form-group">
                                <label for="subnet">M√°scara de Subred</label>
                                <input type="text" id="subnet" placeholder="255.255.255.0">
                            </div>
                            <div class="form-group">
                                <label for="gateway">Puerta de Enlace</label>
                                <input type="text" id="gateway" placeholder="192.168.1.1">
                            </div>
                            <div class="form-group">
                                <label for="dns">DNS</label>
                                <input type="text" id="dns" placeholder="8.8.8.8">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="hostname">Nombre del Dispositivo</label>
                            <input type="text" id="hostname" placeholder="diytogether-salon" value="DIYTogether">
                        </div>
                        
                        <button class="btn btn-secondary" id="save-network-config">üíæ Guardar Configuraci√≥n</button>
                        <div id="advanced-network-notification" class="notification"></div>
                    </div>
                </div>
            </div>

            <!-- Panel de Criatura -->
            <div id="creature-panel" class="content-panel">
                <div class="grid grid-2">
                    <div class="card">
                        <h3>üé≠ Gestor de Skins</h3>
                        <p class="card-subtitle">Personaliza la apariencia de tu criatura</p>
                        
                        <div class="form-group">
                            <label for="skin-upload-btn" class="btn btn-primary">üì§ Subir Skin (.zip)</label>
                            <input type="file" id="skin-upload" accept=".zip" class="hidden">
                        </div>
                        
                        <div class="skin-gallery" id="skin-gallery">
                            <div class="skin-card active">
                                <div class="skin-preview">üêæ</div>
                                <h4>Skin Original</h4>
                                <p>Apariencia por defecto</p>
                                <button class="btn btn-small btn-success" disabled>Activada</button>
                            </div>
                            <div class="skin-card">
                                <div class="skin-preview">ü¶Ñ</div>
                                <h4>Unicornio</h4>
                                <p>Criatura m√°gica</p>
                                <div style="margin-top: 10px; display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn btn-small btn-secondary">Activar</button>
                                    <button class="btn btn-small btn-danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div id="skin-notification" class="notification"></div>
                    </div>
                    
                    <div class="card">
                        <h3>üéÆ Control de Criatura</h3>
                        <p class="card-subtitle">Gestiona el estado y progreso</p>
                        
                        <div class="status-item">
                            <span>Estado Actual:</span>
                            <span class="status-value" id="creature-state">Evolucionando</span>
                        </div>
                        <div class="status-item">
                            <span>C√≥digo de Evoluci√≥n:</span>
                            <span class="status-value" id="evolution-code">A1B2C3</span>
                        </div>
                        
                        <div style="margin: 20px 0;">
                            <h4>Estad√≠sticas Actuales</h4>
                            <div class="status-item">
                                <span>Fuerza:</span>
                                <span class="status-value">75/100</span>
                            </div>
                            <div class="status-item">
                                <span>Resistencia:</span>
                                <span class="status-value">60/100</span>
                            </div>
                            <div class="status-item">
                                <span>Inteligencia:</span>
                                <span class="status-value">85/100</span>
                            </div>
                        </div>
                        
                        <button class="btn btn-warning" id="reset-creature">üîÑ Reiniciar Progreso</button>
                        <p style="font-size: 0.9em; color: #718096; margin-top: 10px;">
                            ‚ö†Ô∏è Esto borrar√° todo el progreso de evoluci√≥n
                        </p>
                        <div id="creature-control-notification" class="notification"></div>
                    </div>
                </div>
            </div>

            <!-- Panel de Sistema -->
            <div id="system-panel" class="content-panel">
                <div class="grid grid-3">
                    <div class="card">
                        <h3>üí° Control de Pantalla</h3>
                        <p class="card-subtitle">Ajustes de visualizaci√≥n</p>
                        
                        <div class="slider-container">
                            <label>Brillo: <span class="slider-value" id="brightness-value">75%</span></label>
                            <input type="range" id="brightness" class="slider" min="0" max="100" value="75">
                        </div>
                        
                        <div class="form-group">
                            <label for="dim-timeout">Tiempo para atenuar (segundos)</label>
                            <input type="number" id="dim-timeout" value="30" min="5" max="300">
                        </div>
                        
                        <div class="form-group">
                            <label for="sleep-timeout">Tiempo para apagar (segundos)</label>
                            <input type="number" id="sleep-timeout" value="60" min="10" max="600">
                        </div>
                        
                        <button class="btn btn-primary" id="save-display">üíæ Guardar</button>
                    </div>
                    
                    <div class="card">
                        <h3>üîä Control de Sonido</h3>
                        <p class="card-subtitle">Configuraci√≥n de audio</p>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="sound-enabled" checked>
                                Activar Sonidos
                            </label>
                        </div>
                        
                        <div class="slider-container">
                            <label>Volumen: <span class="slider-value" id="volume-value">80%</span></label>
                            <input type="range" id="volume" class="slider" min="0" max="100" value="80">
                        </div>
                        
                        <button class="btn btn-primary" id="save-audio">üíæ Guardar</button>
                    </div>
                    
                    <div class="card">
                        <h3>‚ö° Energ√≠a y Rendimiento</h3>
                        <p class="card-subtitle">Optimizaci√≥n del sistema</p>
                        
                        <div class="form-group">
                            <label for="power-mode">Modo de Energ√≠a</label>
                            <select id="power-mode">
                                <option value="performance">M√°ximo Rendimiento</option>
                                <option value="balanced" selected>Equilibrado</option>
                                <option value="powersave">Ahorro de Bater√≠a</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="timezone">Zona Horaria</label>
                            <select id="timezone">
                                <option value="Europe/Madrid" selected>Madrid (GMT+1)</option>
                                <option value="Europe/London">Londres (GMT+0)</option>
                                <option value="America/New_York">Nueva York (GMT-5)</option>
                                <option value="Asia/Tokyo">Tokio (GMT+9)</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-primary" id="save-system">üíæ Guardar</button>
                    </div>
                </div>
                 <div id="system-notification" class="notification" style="margin-top: 20px;"></div>
            </div>

            <!-- Panel de Archivos -->
            <div id="files-panel" class="content-panel">
                <div class="card">
                    <h3>üìÅ Gestor de Archivos</h3>
                    <p class="card-subtitle">Administra los archivos de tu DIYmon</p>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                        <button class="btn btn-primary" id="upload-file-btn">üì§ Subir Archivo</button>
                        <button class="btn btn-secondary" id="create-folder">üìÅ Nueva Carpeta</button>
                        <button class="btn btn-secondary" id="refresh-files">üîÑ Actualizar</button>
                    </div>
                    
                    <div class="file-list" id="file-list">
                        <div class="file-item">
                            <div>üìÅ skins/</div>
                            <div>
                                <button class="btn btn-small btn-secondary">Abrir</button>
                                <button class="btn btn-small btn-danger">Eliminar</button>
                            </div>
                        </div>
                        <div class="file-item">
                            <div>üìÑ config.json (2.1 KB)</div>
                            <div>
                                <button class="btn btn-small btn-secondary">Editar</button>
                                <button class="btn btn-small btn-danger">Eliminar</button>
                            </div>
                        </div>
                        <div class="file-item">
                            <div>üñºÔ∏è splash.bmp (45.2 KB)</div>
                            <div>
                                <button class="btn btn-small btn-secondary">Ver</button>
                                <button class="btn btn-small btn-danger">Eliminar</button>
                            </div>
                        </div>
                    </div>
                    
                    <input type="file" id="file-input" multiple class="hidden">
                    <div id="files-notification" class="notification"></div>
                </div>
            </div>

            <!-- Panel de Mantenimiento -->
            <div id="maintenance-panel" class="content-panel">
                <div class="grid grid-2">
                    <div class="card">
                        <h3>üîß Herramientas del Sistema</h3>
                        <p class="card-subtitle">Opciones avanzadas de mantenimiento</p>
                        
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <button class="btn btn-primary" id="restart-device">üîÑ Reiniciar Dispositivo</button>
                            
                            <div>
                                <label for="firmware-upload" class="btn btn-warning">‚¨ÜÔ∏è Actualizar Firmware</label>
                                <input type="file" id="firmware-upload" accept=".bin" class="hidden">
                                <p style="font-size: 0.9em; color: #718096; margin-top: 5px;">
                                    Selecciona un archivo .bin para actualizar
                                </p>
                            </div>
                            
                            <button class="btn btn-danger" id="factory-reset">‚ö†Ô∏è Restablecer de F√°brica</button>
                            
                            <button class="btn btn-secondary" id="export-config">üíæ Exportar Configuraci√≥n</button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üìã Logs del Sistema</h3>
                        <p class="card-subtitle">Registro de eventos en tiempo real</p>
                        
                        <div style="margin-bottom: 15px;">
                            <button class="btn btn-small btn-secondary" id="clear-logs">üóëÔ∏è Limpiar</button>
                            <button class="btn btn-small btn-primary" id="download-logs">üíæ Descargar</button>
                        </div>
                        
                        <div class="log-container" id="log-container">
[2024-08-15 14:23:45] INFO: Sistema iniciado correctamente
[2024-08-15 14:23:46] INFO: WiFi conectado - IP: 192.168.1.100
[2024-08-15 14:23:47] INFO: Criatura cargada - Estado: Evolucionando
[2024-08-15 14:24:12] INFO: Portal web iniciado en puerto 80
[2024-08-15 14:24:35] DEBUG: Actualizando estad√≠sticas de criatura
[2024-08-15 14:25:01] INFO: Cliente conectado desde 192.168.1.50
                        </div>
                    </div>
                </div>
                 <div id="maintenance-notification" class="notification" style="margin-top: 20px;"></div>
            </div>

            <!-- Panel de Estado -->
            <div id="info-panel" class="content-panel">
                <div class="grid grid-2">
                    <div class="card">
                        <h3>üì° Estado de la Red</h3>
                        <p class="card-subtitle">Informaci√≥n de conectividad</p>
                        
                        <div class="status-item">
                            <span>SSID Conectado:</span>
                            <span class="status-value">Mi_WiFi_5G</span>
                        </div>
                        <div class="status-item">
                            <span>Direcci√≥n IP:</span>
                            <span class="status-value">192.168.1.100</span>
                        </div>
                        <div class="status-item">
                            <span>Intensidad de Se√±al:</span>
                            <span class="status-value">-45 dBm (Excelente)</span>
                        </div>
                        <div class="status-item">
                            <span>Direcci√≥n MAC:</span>
                            <span class="status-value">AA:BB:CC:DD:EE:FF</span>
                        </div>
                        <div class="status-item">
                            <span>DNS:</span>
                            <span class="status-value">8.8.8.8</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üíª Estado del Sistema</h3>
                        <p class="card-subtitle">Informaci√≥n del hardware y software</p>
                        
                        <div class="status-item">
                            <span>Versi√≥n Firmware:</span>
                            <span class="status-value">v2.1.3</span>
                        </div>
                        <div class="status-item">
                            <span>Tiempo Activo:</span>
                            <span class="status-value">2d 14h 35m</span>
                        </div>
                        <div class="status-item">
                            <span>Memoria RAM:</span>
                            <span class="status-value">45KB / 320KB</span>
                        </div>
                        <div class="status-item">
                            <span>Temperatura CPU:</span>
                            <span class="status-value">42¬∞C</span>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-2">
                    <div class="card">
                        <h3>üîã Estado de la Bater√≠a</h3>
                        <p class="card-subtitle">Informaci√≥n de energ√≠a</p>
                        
                        <div class="status-item">
                            <span>Nivel de Carga:</span>
                            <span class="status-value">78%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-battery" style="width: 78%;"></div>
                        </div>
                        
                        <div class="status-item">
                            <span>Voltaje:</span>
                            <span class="status-value">3.87V</span>
                        </div>
                        <div class="status-item">
                            <span>Estado:</span>
                            <span class="status-value">Descargando</span>
                        </div>
                        <div class="status-item">
                            <span>Tiempo Restante:</span>
                            <span class="status-value">~8h 30m</span>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üíæ Almacenamiento</h3>
                        <p class="card-subtitle">Espacio en tarjeta SD</p>
                        
                        <div class="status-item">
                            <span>Espacio Usado:</span>
                            <span class="status-value">1.2GB / 8GB</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-storage" style="width: 15%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========= INICIO DEL C√ìDIGO JAVASCRIPT A√ëADIDO ========= -->
    <script>
        // Espera a que todo el contenido del HTML est√© cargado antes de ejecutar el script
        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. L√ìGICA DE NAVEGACI√ìN POR PESTA√ëAS ---
            const tabs = document.querySelectorAll('.tab-btn');
            const contentPanels = document.querySelectorAll('.content-panel');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Quitar la clase 'active' de todos los botones y paneles
                    tabs.forEach(t => t.classList.remove('active'));
                    contentPanels.forEach(p => p.classList.remove('active'));

                    // A√±adir la clase 'active' solo al bot√≥n pulsado y a su panel correspondiente
                    tab.classList.add('active');
                    const targetPanel = document.querySelector(tab.dataset.target);
                    if (targetPanel) {
                        targetPanel.classList.add('active');
                    }
                });
            });

            // --- 2. L√ìGICA PARA ELEMENTOS INTERACTIVOS ---

            // Funci√≥n gen√©rica para mostrar notificaciones
            const showNotification = (elementId, message, type = 'success') => {
                const notificationEl = document.getElementById(elementId);
                if (!notificationEl) return;
                
                notificationEl.className = 'notification'; // Resetea clases
                notificationEl.classList.add(type, 'show');
                notificationEl.textContent = message;

                // Ocultar la notificaci√≥n despu√©s de 4 segundos
                setTimeout(() => {
                    notificationEl.classList.remove('show');
                }, 4000);
            };
            
            // Sliders de Brillo y Volumen
            const brightnessSlider = document.getElementById('brightness');
            const brightnessValue = document.getElementById('brightness-value');
            brightnessSlider.addEventListener('input', () => {
                brightnessValue.textContent = `${brightnessSlider.value}%`;
            });

            const volumeSlider = document.getElementById('volume');
            const volumeValue = document.getElementById('volume-value');
            volumeSlider.addEventListener('input', () => {
                volumeValue.textContent = `${volumeSlider.value}%`;
            });

            // Toggle para DHCP en el panel de Red
            const dhcpToggle = document.getElementById('dhcp-toggle');
            const staticIpConfig = document.getElementById('static-ip-config');
            dhcpToggle.addEventListener('change', () => {
                staticIpConfig.classList.toggle('hidden', dhcpToggle.checked);
            });

            // --- 3. SIMULACI√ìN DE ACCIONES DE BOTONES Y FORMULARIOS ---
            // Como no hay un servidor real, los botones mostrar√°n una notificaci√≥n
            // para confirmar que la acci√≥n se ha "realizado".

            // Formulario WiFi
            document.getElementById('wifi-form').addEventListener('submit', (e) => {
                e.preventDefault(); // Evita que la p√°gina se recargue
                const ssid = document.getElementById('ssid').value;
                if(ssid) {
                    showNotification('wifi-notification', `Intentando conectar a la red "${ssid}"...`, 'success');
                } else {
                    showNotification('wifi-notification', 'Por favor, introduce un nombre de red (SSID).', 'error');
                }
            });
            
            // Bot√≥n de guardar configuraci√≥n de red avanzada
            document.getElementById('save-network-config').addEventListener('click', () => {
                 showNotification('advanced-network-notification', 'Configuraci√≥n de red avanzada guardada.', 'success');
            });
            
            // Bot√≥n de escanear redes
            document.getElementById('scan-networks').addEventListener('click', () => {
                 showNotification('wifi-notification', 'Escaneando redes WiFi cercanas...', 'warning');
            });

            // Botones de guardar en panel de Sistema
            document.getElementById('save-display').addEventListener('click', () => showNotification('system-notification', 'Ajustes de pantalla guardados.', 'success'));
            document.getElementById('save-audio').addEventListener('click', () => showNotification('system-notification', 'Configuraci√≥n de audio guardada.', 'success'));
            document.getElementById('save-system').addEventListener('click', () => showNotification('system-notification', 'Ajustes de energ√≠a y sistema guardados.', 'success'));

            // Bot√≥n de reiniciar progreso de criatura con confirmaci√≥n
            document.getElementById('reset-creature').addEventListener('click', () => {
                if (confirm('¬øEst√°s seguro de que quieres reiniciar todo el progreso de la criatura? Esta acci√≥n no se puede deshacer.')) {
                    showNotification('creature-control-notification', 'El progreso de la criatura ha sido reiniciado.', 'warning');
                }
            });
            
            // L√≥gica para botones de subida de archivos
            document.getElementById('skin-upload-btn').addEventListener('click', () => document.getElementById('skin-upload').click());
            document.getElementById('upload-file-btn').addEventListener('click', () => document.getElementById('file-input').click());
            document.querySelector('label[for="firmware-upload"]').addEventListener('click', (e) => {
                e.preventDefault(); // Previene que se active dos veces
                document.getElementById('firmware-upload').click();
            });
            
            document.getElementById('skin-upload').addEventListener('change', (e) => {
                if(e.target.files.length > 0) {
                     showNotification('skin-notification', `Skin "${e.target.files[0].name}" lista para subir.`, 'success');
                }
            });
            
            // Botones de mantenimiento con confirmaci√≥n
            document.getElementById('restart-device').addEventListener('click', () => {
                if(confirm('¬øSeguro que quieres reiniciar el dispositivo?')) {
                     showNotification('maintenance-notification', 'El dispositivo se est√° reiniciando...', 'warning');
                }
            });
            
             document.getElementById('factory-reset').addEventListener('click', () => {
                if(confirm('¬°ADVERTENCIA! ¬øEst√°s seguro de que quieres restablecer el dispositivo a los valores de f√°brica? Se perder√°n todos los datos.')) {
                     showNotification('maintenance-notification', 'Restableciendo a valores de f√°brica. Esto tardar√° un momento.', 'error');
                }
            });
            
            // L√≥gica simple para la galer√≠a de skins
            const skinCards = document.querySelectorAll('.skin-card');
            skinCards.forEach(card => {
                card.querySelector('.btn-secondary')?.addEventListener('click', () => {
                     showNotification('skin-notification', `Skin "${card.querySelector('h4').textContent}" activada.`, 'success');
                });
                 card.querySelector('.btn-danger')?.addEventListener('click', () => {
                     showNotification('skin-notification', `Skin "${card.querySelector('h4').textContent}" eliminada.`, 'warning');
                     card.remove();
                });
            });

        });
    </script>
    <!-- ========= FIN DEL C√ìDIGO JAVASCRIPT A√ëADIDO ========= -->
</body>
</html>